<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>任务29</title>
	<style type="text/css">
		*{margin:0;padding:0;}
		#forms{width:400px;height:200px;margin:100px auto;font-weight:bold;font-size:14px;}
		#text{width:200px;height:30px;margin-left:20px;border:none;border:1px solid #999;}
		#btn{width:50px;height:30px;color:#fff;background-color:blue;border:none;margin-left:10px;}
		#forms p{padding-left:50px;margin-top:5px;color:#999;}

	</style>
</head>
<body>
	<div id="forms">
		名称<input id="text" type="text" />
		<input id="btn" type="button" value="验证" onclick = "check();" />
		<p id="p">必填，长度为4~16个字符</p>
	</div>
	
<script type="text/javascript">
	function check(){
		var input=document.getElementById('text');
		var text=document.getElementById('text').value;
		var p=document.getElementById('p');
		if (text == ""){
			p.innerHTML = "姓名不能为空";
			p.style.color = "#DD000F";
			input.style.borderColor="#DD000F";
		}else{
			var len=0;
			for(var i=0;i<text.length;i++){
				if(text.charCodeAt(i)>127 || text.charCodeAt(i)==94){
					len +=2;
				}else{
					len++
				}
			}
			if(len>=4 && len <=16){
				p.innerHTML = "名称格式正确";
				p.style.color = "#52BE37";
				input.style.borderColor="#52BE37";
			}else{
				p.innerHTML = "名称格式错误";
				p.style.color = "#DD000F";
				input.style.borderColor="#DD000F";
			}
		}
	}
	


</script>
</body>
</html>